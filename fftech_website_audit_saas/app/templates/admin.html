
{% extends 'base.html' %}
{% block content %}
<div class="row g-4">
  <div class="col-lg-6">
    <div class="card p-3">
      <h2 class="h6">Users</h2>
      <input class="form-control mb-2" placeholder="Search..." id="searchUsers">
      <div class="table-responsive">
        <table class="table table-striped">
          <thead><tr><th>Email</th><th>Verified</th><th>Role</th><th>Audits</th><th>Status</th><th>Actions</th></tr></thead>
          <tbody>
            {% for u in users %}
            <tr>
              <td>{{ u.email }}</td>
              <td>{{ 'Yes' if u.verified else 'No' }}</td>
              <td>{{ 'Admin' if u.is_admin else 'User' }}</td>
              <td>{{ u.audit_count }}</td>
              <td>{{ u.status }}</td>
              <td>
                <a class="btn btn-sm btn-outline-warning" href="/admin/users/{{ u.id }}/suspend">Suspend</a>
                <a class="btn btn-sm btn-outline-info" href="/admin/users/{{ u.id }}/activate">Activate</a>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-6">
    <div class="card p-3">
      <h2 class="h6">System Health & Security</h2>
      <ul>
        <li>HTTPS enforced across app</li>
        <li>RBAC enabled</li>
        <li>Audit trail logging</li>
        <li>Rate limiting compatible</li>
      </ul>
      <h2 class="h6 mt-3">Recent Activity</h2>
      <ul class="list-group list-group-flush">
        {% for log in activity_logs %}
          <li class="list-group-item bg-transparent">{{ log }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>
</div>
{% endblock %}
