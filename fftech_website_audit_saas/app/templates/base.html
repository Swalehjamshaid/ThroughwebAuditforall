
<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}Audit SaaS{% endblock %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />
  <style>
    :root {
      --bg: #0b1220;           /* dark */
      --bg-light: #f7f8fb;     /* light */
      --surface: rgba(255,255,255,0.08);
      --surface-light: #ffffff;
      --text: #e6e8ef;
      --text-light: #1a1f2f;
      --brand: #6c5ce7;        /* violet */
      --accent: #00d4ff;       /* cyan */
      --success: #00c48c;
      --danger: #ff4d6d;
    }

    [data-theme="light"] body { background: var(--bg-light); color: var(--text-light); }
    [data-theme="light"] .glass { background: var(--surface-light); box-shadow: 0 10px 30px rgba(0,0,0,.06); }
    [data-theme="dark"] body  { background: radial-gradient(1200px circle at 10% 10%, #0d1b2a 0%, #061018 55%, #04070d 100%); color: var(--text); }
    [data-theme="dark"] .glass { background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04)); backdrop-filter: blur(14px); border: 1px solid rgba(255,255,255,.10); }

    body { font-family: 'Poppins', sans-serif; }
    .navbar-brand { font-weight: 600; letter-spacing: .4px; }
    .brand-gradient { background: linear-gradient(90deg, var(--brand), var(--accent)); -webkit-background-clip: text; background-clip: text; color: transparent; }
    .btn-brand { background: linear-gradient(90deg, var(--brand), var(--accent)); border: none; color: #fff; }
    .btn-brand:hover { filter: brightness(1.05); }
    .card-stat { border: none; }
    .card-stat .value { font-size: 1.8rem; font-weight: 600; }
    .card-stat .label { opacity: .8; }
    .chart-wrap { border-radius: 18px; overflow: hidden; }
    .footer { font-size: .9rem; opacity: .8; }
    .table thead th { font-weight: 600; }
    .pill { border-radius: 999px; padding: .35rem .75rem; font-size: .85rem; }
    .status-open { background: rgba(255,77,109,.12); color: #ff4d6d; }
    .status-closed { background: rgba(0,196,140,.12); color: #00c48c; }
    .status-inprogress { background: rgba(108,92,231,.15); color: #6c5ce7; }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <nav class="navbar navbar-expand-lg glass sticky-top px-3 py-2">
    <div class="container-fluid">
      <a class="navbar-brand brand-gradient" href="/">Fitech Audit SaaS</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav" aria-controls="nav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="nav">
        <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
          <li class="nav-item"><a class="nav-link" href="/dashboard">Dashboard</a></li>
          <li class="nav-item"><a class="nav-link" href="/audits">Audits</a></li>
          <li class="nav-item"><a class="nav-link" href="/new_audit">New Audit</a></li>
          <li class="nav-item"><a class="nav-link" href="/admin">Admin</a></li>
          <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
        </ul>
        <button id="themeToggle" class="btn btn-sm btn-brand ms-3">Toggle Theme</button>
      </div>
    </div>
  </nav>

  <main class="container py-4">
    {% block content %}{% endblock %}
  </main>

  <footer class="container footer py-4">
    <div class="glass p-3 rounded-4 d-flex justify-content-between align-items-center">
      <span>© {{ year or 2026 }} Fitech — Internal Use Only</span>
      <span class="brand-gradient">Operational Excellence</span>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
  <script>
    // Theme toggle with localStorage
    (function(){
      const root = document.documentElement;
      const saved = localStorage.getItem('theme') || 'dark';
      root.setAttribute('data-theme', saved);
      document.getElementById('themeToggle').addEventListener('click', function(){
        const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
        root.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
      });
    })();
  </script>
  {% block scripts %}{% endblock %}
</body>
</html>
