# nixpacks.toml - Fixed for WeasyPrint on Railway

[phases.setup]
# These are the standard Debian libraries that WeasyPrint looks for
aptPkgs = [
  "libpango-1.0-0",
  "libharfbuzz0b",
  "libpangoft2-1.0-0",
  "libpangocairo-1.0-0",
  "libgdk-pixbuf2.0-0",
  "libffi-dev",
  "shared-mime-info"
]

[phases.build]
# Standard build command
cmds = ["pip install --no-cache-dir -r requirements.txt"]

[start]
cmd = "uvicorn app.main:app --host 0.0.0.0 --port $PORT"
