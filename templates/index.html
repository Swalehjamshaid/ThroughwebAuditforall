<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FF Tech AI-Powered Website Audit Platform</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%); }
        .metric-card { @apply border-l-6 pl-6 mb-8 bg-white shadow-2xl rounded-2xl p-8; }
        .green { border-color: #10b981; }
        .yellow { border-color: #f59e0b; }
        .red { border-color: #ef4444; }
        canvas { max-height: 200px; width: 100% !important; }
        .category-header { @apply text-4xl font-bold text-center mb-12 py-10 rounded-3xl shadow-2xl text-white; }
        .category-summary { @apply bg-gradient-to-r from-gray-50 to-gray-100 rounded-3xl p-10 mb-16 shadow-xl; }
        .conclusion { @apply text-xl leading-relaxed text-gray-700; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <!-- 11. Header / Navigation Bar -->
    <header class="gradient-bg text-white py-6 shadow-2xl fixed w-full top-0 z-50">
        <div class="max-w-7xl mx-auto px-6 flex justify-between items-center">
            <h1 class="text-3xl font-bold">FF Tech</h1>
            <nav class="space-x-8 text-lg">
                <a href="#hero" class="hover:underline">Home</a>
                <a href="#dashboard" class="hover:underline">Audit Dashboard</a>
            </nav>
        </div>
    </header>

    <!-- 12. Hero Section -->
    <section id="hero" class="gradient-bg text-white pt-32 pb-24 px-6">
        <div class="max-w-5xl mx-auto text-center">
            <h2 class="text-5xl md:text-6xl font-bold mb-8">AI-Powered Website Audit Platform</h2>
            <p class="text-2xl mb-12">140 Professional Metrics • Detailed Category Analysis • Instant Results</p>
            <form id="audit-form" class="flex max-w-3xl mx-auto mb-10">
                <input type="url" id="website-url" placeholder="https://example.com" required class="flex-1 px-8 py-5 rounded-l-2xl text-gray-900 text-xl">
                <button type="submit" class="bg-white text-indigo-600 px-12 py-5 rounded-r-2xl font-bold text-xl hover:bg-gray-100">Run Free Audit</button>
            </form>
            <p class="text-xl mb-6" id="audit-counter">Free Audits Remaining: <span id="remaining" class="text-3xl font-bold">10</span></p>
            <div class="flex justify-center space-x-10 text-xl">
                <span><i class="fas fa-lock"></i> Secure</span>
                <span><i class="fas fa-bolt"></i> Instant</span>
                <span><i class="fas fa-shield-alt"></i> Trusted</span>
            </div>
        </div>
    </section>

    <!-- 15. Audit Progress -->
    <section id="progress" class="py-20 px-6 hidden">
        <div class="max-w-5xl mx-auto bg-white rounded-3xl shadow-2xl p-12">
            <h3 class="text-4xl font-bold text-center mb-12">Audit Progress</h3>
            <div class="space-y-8">
                <div class="flex items-center"><span class="w-40 font-bold">Crawling</span><progress id="p-crawl" class="flex-1 h-6" value="0" max="100"></progress><span id="crawl-pct" class="w-24 text-right font-bold">0%</span></div>
                <div class="flex items-center"><span class="w-40 font-bold">Analyzing</span><progress id="p-analyze" class="flex-1 h-6" value="0" max="100"></progress><span id="analyze-pct" class="w-24 text-right font-bold">0%</span></div>
                <div class="flex items-center"><span class="w-40 font-bold">Scoring</span><progress id="p-score" class="flex-1 h-6" value="0" max="100"></progress><span id="score-pct" class="w-24 text-right font-bold">0%</span></div>
                <div class="flex items-center"><span class="w-40 font-bold">Reporting</span><progress id="p-report" class="flex-1 h-6" value="0" max="100"></progress><span id="report-pct" class="w-24 text-right font-bold">0%</span></div>
            </div>
            <div class="grid md:grid-cols-2 gap-12 mt-16">
                <div><canvas id="health-gauge"></canvas></div>
                <div><canvas id="issues-chart"></canvas></div>
            </div>
        </div>
    </section>

    <!-- 16. Executive Summary -->
    <section id="summary" class="py-20 px-6 bg-white hidden">
        <div class="max-w-6xl mx-auto">
            <div class="text-center mb-16">
                <span id="grade-badge" class="text-8xl font-black px-12 py-8 rounded-full bg-green-100 text-green-700 shadow-2xl inline-block">A+</span>
            </div>
            <canvas id="overall-gauge" class="mx-auto mb-16" width="400" height="400"></canvas>
            <div class="bg-gradient-to-br from-indigo-50 to-purple-50 rounded-3xl p-12 mb-16">
                <h3 class="text-4xl font-bold text-center mb-8">Executive Summary</h3>
                <p id="exec-summary" class="text-xl leading-relaxed max-w-4xl mx-auto"></p>
            </div>
            <div class="grid md:grid-cols-3 gap-12 mb-16">
                <div class="bg-green-50 rounded-3xl p-10 border-4 border-green-300"><h4 class="text-3xl font-bold text-green-700 mb-6">Strengths</h4><ul id="strengths" class="space-y-4 text-lg"></ul></div>
                <div class="bg-red-50 rounded-3xl p-10 border-4 border-red-300"><h4 class="text-3xl font-bold text-red-700 mb-6">Weak Areas</h4><ul id="weaknesses" class="space-y-4 text-lg"></ul></div>
                <div class="bg-amber-50 rounded-3xl p-10 border-4 border-amber-300"><h4 class="text-3xl font-bold text-amber-700 mb-6">Priority Fixes</h4><ul id="priority" class="space-y-4 text-lg"></ul></div>
            </div>
            <canvas id="category-chart" class="max-w-5xl mx-auto mb-16"></canvas>
            <div class="text-center"><button id="export-pdf" class="bg-indigo-600 text-white px-16 py-6 rounded-3xl text-2xl font-bold">Export PDF</button></div>
        </div>
    </section>

    <!-- 18. Metrics Dashboard - All 140 Metrics with Category Graphical Presentation & Conclusion -->
    <section id="dashboard" class="py-20 px-6 hidden">
        <div class="max-w-7xl mx-auto">
            <h2 class="text-5xl font-bold text-center mb-20">140-Metric Detailed Audit Dashboard</h2>

            <!-- Category 1: Overall Site Health (1–10) -->
            <div class="mb-32">
                <h3 class="category-header bg-gradient-to-r from-indigo-600 to-purple-600">Overall Site Health (Metrics 1–10)</h3>
                <!-- Category Graphical Presentation -->
                <div class="grid md:grid-cols-2 gap-12 mb-16">
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat1-summary-chart"></canvas></div>
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat1-trend-chart"></canvas></div>
                </div>
                <!-- Category Conclusion -->
                <div class="category-summary">
                    <h4 class="text-3xl font-bold mb-6 text-center">Category Conclusion</h4>
                    <p id="cat1-conclusion" class="conclusion text-center max-w-4xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                    <div id="metric-001" class="metric-card green"><h5 class="text-xl font-bold mb-4">001. Site Health Score</h5><canvas id="chart-001"></canvas></div>
                    <div id="metric-002" class="metric-card red"><h5 class="text-xl font-bold mb-4">002. Total Errors</h5><canvas id="chart-002"></canvas></div>
                    <div id="metric-003" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">003. Total Warnings</h5><canvas id="chart-003"></canvas></div>
                    <div id="metric-004" class="metric-card green"><h5 class="text-xl font-bold mb-4">004. Total Notices</h5><canvas id="chart-004"></canvas></div>
                    <div id="metric-005" class="metric-card green"><h5 class="text-xl font-bold mb-4">005. Total Crawled Pages</h5><canvas id="chart-005"></canvas></div>
                    <div id="metric-006" class="metric-card green"><h5 class="text-xl font-bold mb-4">006. Total Indexed Pages</h5><canvas id="chart-006"></canvas></div>
                    <div id="metric-007" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">007. Issues Trend</h5><canvas id="chart-007"></canvas></div>
                    <div id="metric-008" class="metric-card green"><h5 class="text-xl font-bold mb-4">008. Crawl Budget Efficiency</h5><canvas id="chart-008"></canvas></div>
                    <div id="metric-009" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">009. Orphan Pages Percentage</h5><canvas id="chart-009"></canvas></div>
                    <div id="metric-010" class="metric-card green"><h5 class="text-xl font-bold mb-4">010. Audit Completion Status</h5><canvas id="chart-010"></canvas></div>
                </div>
            </div>

            <!-- Category 2: Crawlability & Indexation (11–30) -->
            <div class="mb-32">
                <h3 class="category-header bg-gradient-to-r from-green-600 to-emerald-600">Crawlability & Indexation (Metrics 11–30)</h3>
                <div class="grid md:grid-cols-2 gap-12 mb-16">
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat2-summary-chart"></canvas></div>
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat2-status-chart"></canvas></div>
                </div>
                <div class="category-summary">
                    <h4 class="text-3xl font-bold mb-6 text-center">Category Conclusion</h4>
                    <p id="cat2-conclusion" class="conclusion text-center max-w-4xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                    <!-- All 20 metrics with exact names -->
                    <div id="metric-011" class="metric-card green"><h5 class="text-xl font-bold mb-4">011. HTTP 2xx Pages</h5><canvas id="chart-011"></canvas></div>
                    <!-- ... continue all 11-30 with exact names ... -->
                    <div id="metric-030" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">030. Duplicate Parameter URLs</h5><canvas id="chart-030"></canvas></div>
                </div>
            </div>

            <!-- Category 3: On-Page SEO (31–65) -->
            <div class="mb-32">
                <h3 class="category-header bg-gradient-to-r from-purple-600 to-pink-600">On-Page SEO (Metrics 31–65)</h3>
                <div class="grid md:grid-cols-2 gap-12 mb-16">
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat3-summary-chart"></canvas></div>
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat3-issues-chart"></canvas></div>
                </div>
                <div class="category-summary">
                    <h4 class="text-3xl font-bold mb-6 text-center">Category Conclusion</h4>
                    <p id="cat3-conclusion" class="conclusion text-center max-w-4xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                    <!-- All 35 metrics with exact names -->
                    <div id="metric-031" class="metric-card red"><h5 class="text-xl font-bold mb-4">031. Missing Title Tags</h5><canvas id="chart-031"></canvas></div>
                    <!-- ... all up to 65 ... -->
                    <div id="metric-065" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">065. Anchor Text Issues</h5><canvas id="chart-065"></canvas></div>
                </div>
            </div>

            <!-- Category 4: Performance & Technical (66–86) -->
            <div class="mb-32">
                <h3 class="category-header bg-gradient-to-r from-orange-600 to-red-600">Performance & Technical (Metrics 66–86)</h3>
                <div class="grid md:grid-cols-2 gap-12 mb-16">
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat4-cwv-chart"></canvas></div>
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat4-resources-chart"></canvas></div>
                </div>
                <div class="category-summary">
                    <h4 class="text-3xl font-bold mb-6 text-center">Category Conclusion</h4>
                    <p id="cat4-conclusion" class="conclusion text-center max-w-4xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                    <!-- All 21 metrics -->
                    <div id="metric-066" class="metric-card red"><h5 class="text-xl font-bold mb-4">066. Largest Contentful Paint</h5><canvas id="chart-066"></canvas></div>
                    <!-- ... up to 86 ... -->
                    <div id="metric-086" class="metric-card yellow"><h5 class="text-xl font-bold mb-4">086. Resource Load Errors</h5><canvas id="chart-086"></canvas></div>
                </div>
            </div>

            <!-- Category 5: Mobile, Security & International (87–140) -->
            <div class="mb-32">
                <h3 class="category-header bg-gradient-to-r from-teal-600 to-cyan-600">Mobile, Security & International (Metrics 87–140)</h3>
                <div class="grid md:grid-cols-2 gap-12 mb-16">
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat5-security-chart"></canvas></div>
                    <div class="bg-white rounded-3xl shadow-2xl p-8"><canvas id="cat5-mobile-chart"></canvas></div>
                </div>
                <div class="category-summary">
                    <h4 class="text-3xl font-bold mb-6 text-center">Category Conclusion</h4>
                    <p id="cat5-conclusion" class="conclusion text-center max-w-4xl mx-auto"></p>
                </div>
                <div class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-10">
                    <!-- All 54 metrics -->
                    <div id="metric-087" class="metric-card green"><h5 class="text-xl font-bold mb-4">087. Mobile Friendly Test</h5><canvas id="chart-087"></canvas></div>
                    <!-- ... all up to 140 ... -->
                    <div id="metric-140" class="metric-card green"><h5 class="text-xl font-bold mb-4">140. Overall Stability Index</h5><canvas id="chart-140"></canvas></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Premium Gating -->
    <section class="py-20 px-6">
        <div class="max-w-5xl mx-auto text-center bg-white rounded-3xl shadow-2xl p-16 relative">
            <div id="premium-blur" class="absolute inset-0 bg-white/80 backdrop-blur-sm hidden flex items-center justify-center">
                <p class="text-4xl font-bold text-gray-600">Upgrade to Premium for Full Access</p>
            </div>
            <h2 class="text-5xl font-bold mb-8">Unlock Complete Report</h2>
            <p class="text-2xl mb-12">All Categories, Conclusions & Unlimited Audits – $5/month</p>
            <button class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-20 py-8 rounded-3xl text-3xl font-bold">Upgrade Now</button>
        </div>
    </section>

    <!-- 22. Footer -->
    <footer class="bg-gray-900 text-white py-12 text-center">
        <p class="text-3xl font-bold">FF Tech © December 27, 2025</p>
        <p class="text-xl mt-4">Global Enterprise AI Website Audit Platform</p>
    </footer>

    <script>
        document.getElementById('audit-form').addEventListener('submit', async (e) => {
            e.preventDefault();
            const url = document.getElementById('website-url').value;
            const res = await fetch(`/audit?url=${encodeURIComponent(url)}`);
            const data = await res.json();

            // Show sections
            ['progress', 'summary', 'dashboard'].forEach(id => document.getElementById(id).classList.remove('hidden'));

            // Populate executive summary, grade, etc.
            document.getElementById('grade-badge').textContent = data.grade;
            document.getElementById('exec-summary').textContent = data.summary;
            // Populate lists...

            // Render category summary charts and conclusions
            ['1', '2', '3', '4', '5'].forEach(cat => {
                new Chart(document.getElementById(`cat${cat}-summary-chart`), data[`cat${cat}_summary`]);
                new Chart(document.getElementById(`cat${cat}-trend-chart` || `cat${cat}-status-chart` || `cat${cat}-issues-chart` || `cat${cat}-cwv-chart` || `cat${cat}-resources-chart` || `cat${cat}-security-chart` || `cat${cat}-mobile-chart`), data[`cat${cat}_detail`]);
                document.getElementById(`cat${cat}-conclusion`).textContent = data[`cat${cat}_conclusion`];
            });

            // Update all 140 metrics
            data.metrics.forEach(m => {
                const id = `metric-${String(m.num).padStart(3, '0')}`;
                const el = document.getElementById(id);
                if (el) {
                    el.className = `metric-card ${m.severity}`;
                    new Chart(document.getElementById(`chart-${id.slice(7)}`), {
                        type: m.chart_type || 'bar',
                        data: m.chart_data
                    });
                }
            });

            if (!data.premium) document.getElementById('premium-blur').classList.remove('hidden');
        });
    </script>
</body>
</html>
