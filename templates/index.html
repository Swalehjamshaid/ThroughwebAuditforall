<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FF TECH ELITE - Website Audit</title>
<style>
body { font-family: 'Segoe UI', sans-serif; background:#f2f5f7; color:#333; margin:0; padding:0; }
.container { max-width: 900px; margin: 40px auto; background: #fff; padding: 30px; border-radius: 12px; box-shadow: 0 5px 25px rgba(0,0,0,0.1);}
h1 { text-align:center; color:#2a3f54; }
input, button { padding: 10px; font-size: 16px; margin-top: 10px;}
button { cursor:pointer; background:#2a3f54; color:#fff; border:none; border-radius:5px;}
table { width:100%; border-collapse: collapse; margin-top:20px;}
th, td { padding: 12px; text-align:left; border-bottom:1px solid #ddd;}
th { background:#2a3f54; color:#fff;}
tr:hover { background:#f1f1f1; }
.progress { background:#e0e0e0; border-radius: 8px; overflow:hidden; height:18px;}
.progress-bar { height:100%; text-align:center; color:#fff; line-height:18px; border-radius:8px;}
</style>
</head>
<body>
<div class="container">
<h1>FF TECH ELITE - Website Audit</h1>
<input type="text" id="urlInput" placeholder="Enter website URL"/>
<button onclick="runAudit()">Run Audit</button>
<button onclick="downloadPDF()">Download PDF</button>
<table id="resultsTable">
<thead>
<tr><th>Metric</th><th>Score</th><th>Progress</th></tr>
</thead>
<tbody></tbody>
</table>
</div>
<script>
async function runAudit() {
    const url = document.getElementById("urlInput").value;
    if(!url) return alert("Enter URL");
    const res = await fetch(`/audit?url=${encodeURIComponent(url)}`);
    const data = await res.json();
    const tbody = document.querySelector("#resultsTable tbody");
    tbody.innerHTML = "";
    for(const k in data){
        const v = data[k];
        const row = document.createElement("tr");
        row.innerHTML = `<td>${k}</td>
        <td>${v}</td>
        <td><div class="progress"><div class="progress-bar" style="width:${v}%;background:${v>70?'#4caf50':'#f44336'}">${v}%</div></div></td>`;
        tbody.appendChild(row);
    }
}
function downloadPDF(){
    const url = document.getElementById("urlInput").value;
    if(!url) return alert("Enter URL");
    window.open(`/audit/pdf?url=${encodeURIComponent(url)}`, "_blank");
}
</script>
</body>
</html>
