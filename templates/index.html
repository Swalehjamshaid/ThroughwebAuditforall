<!DOCTYPE html>
<html lang="en" class="h-full scroll-smooth dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>FF Tech Elite | Ultimate Website Audit</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>
<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  body { font-family: 'Inter', sans-serif; }
  .hidden { display: none; }
  .chart-container { height: 300px; }
  .tooltip { cursor: help; border-bottom: 1px dotted; }
</style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 h-full">

<header class="bg-blue-600 dark:bg-blue-800 text-white p-4 flex justify-between items-center">
  <h1 class="text-xl font-bold">FF Tech Elite | Ultimate Website Audit</h1>
  <button id="toggle-dark" class="px-2 py-1 bg-white dark:bg-gray-700 text-blue-600 dark:text-white rounded">Toggle Dark Mode</button>
</header>

<main class="p-6 max-w-7xl mx-auto space-y-6">

  <!-- URL Audit Section -->
  <section class="p-6 bg-white dark:bg-gray-800 rounded shadow">
    <h2 class="text-2xl font-semibold mb-4">Open Audit</h2>
    <input id="audit-url" type="url" placeholder="Enter Website URL" class="w-full p-2 mb-2 rounded border border-gray-300 dark:border-gray-600">
    <button id="run-audit" class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded">Run Audit</button>
    <p id="audit-status" class="mt-2 text-yellow-600 dark:text-yellow-400"></p>
  </section>

  <!-- Email Login Section -->
  <section class="p-6 bg-white dark:bg-gray-800 rounded shadow">
    <h2 class="text-2xl font-semibold mb-4">Login for Extended Audits</h2>
    <input id="email-login" type="email" placeholder="Enter your email" class="w-full p-2 mb-2 rounded border border-gray-300 dark:border-gray-600">
    <button id="send-link" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded">Send Login Link</button>
    <p id="login-status" class="mt-2 text-yellow-600 dark:text-yellow-400"></p>
  </section>

  <!-- Subscription Alert -->
  <div id="subscription-alert" class="hidden text-center bg-yellow-200 dark:bg-yellow-700 text-yellow-800 dark:text-yellow-100 p-4 rounded">
    You have reached 5 free audits. Subscribe for <strong>$5/month</strong> to continue unlimited audits.
    <button id="subscribe-btn" class="ml-4 px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700">Subscribe Now</button>
  </div>

  <!-- Audit Results Section -->
  <section id="audit-results" class="hidden p-6 bg-white dark:bg-gray-800 rounded shadow space-y-6">

    <h2 class="text-2xl font-semibold mb-4">Audit Results</h2>

    <!-- Executive Summary -->
    <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
      <h3 class="text-xl font-semibold mb-2">Executive Summary</h3>
      <p id="executive-summary">Python will populate summary here.</p>
    </div>

    <!-- Charts & Metrics -->
    <div id="metrics-container">

      <!-- Overall Score -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Overall Score</h3>
        <div class="chart-container mb-4"><canvas id="chart-overall-score"></canvas></div>
      </div>

      <!-- Technical SEO -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Technical SEO <span class="tooltip" title="Crawl errors, sitemap, robots.txt, canonical tags">(?)</span></h3>
        <div class="chart-container"><canvas id="chart-technical-seo"></canvas></div>
      </div>

      <!-- On-Page SEO -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">On-Page SEO <span class="tooltip" title="Meta tags, headings, content quality, schema">(?)</span></h3>
        <div class="chart-container"><canvas id="chart-onpage-seo"></canvas></div>
      </div>

      <!-- Performance -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Performance & Core Web Vitals</h3>
        <div class="chart-container"><canvas id="chart-performance"></canvas></div>
      </div>

      <!-- Security -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Security</h3>
        <div class="chart-container"><canvas id="chart-security"></canvas></div>
      </div>

      <!-- Mobile & Responsiveness -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Mobile & Responsiveness</h3>
        <div class="chart-container"><canvas id="chart-mobile"></canvas></div>
      </div>

      <!-- Accessibility -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Accessibility & Usability</h3>
        <div class="chart-container"><canvas id="chart-usability"></canvas></div>
      </div>

      <!-- Backlinks -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Backlinks & Authority</h3>
        <div class="chart-container"><canvas id="chart-backlinks"></canvas></div>
      </div>

      <!-- Content & Keywords -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Content & Keywords</h3>
        <div class="chart-container"><canvas id="chart-content"></canvas></div>
      </div>

      <!-- Competitor Comparison -->
      <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded">
        <h3 class="text-xl font-semibold mb-2">Competitor Comparison</h3>
        <div class="chart-container"><canvas id="chart-competitor"></canvas></div>
      </div>

    </div>

    <!-- Advanced Features -->
    <div class="p-4 bg-gray-50 dark:bg-gray-700 rounded space-y-4">
      <h3 class="text-xl font-semibold mb-2">Advanced Features</h3>
      <ul class="list-disc pl-6 space-y-1">
        <li id="py-integration"><a href="#" target="_blank" class="text-blue-600 dark:text-blue-400 underline">Python Audit Integration Link</a></li>
        <li id="screenshot">Screenshot comparison placeholder</li>
        <li id="recommendations">SEO recommendations & action plan placeholder</li>
        <li id="weak-areas">Weak areas placeholder</li>
        <li id="export-report">Export report placeholder</li>
        <li id="audit-history">Historical audits placeholder</li>
      </ul>
    </div>

  </section>

</main>

<footer class="bg-blue-600 dark:bg-blue-800 text-white p-4 text-center">
  &copy; 2025 FF Tech Elite | Ultimate Website Audit
</footer>

<script>
// Dark Mode
document.getElementById('toggle-dark').addEventListener('click', ()=>{
  document.documentElement.classList.toggle('dark');
});

// Audit Counter and Subscription Limit
let auditCount = 0;
const maxFreeAudits = 5;
document.getElementById('run-audit').addEventListener('click', ()=>{
  const url = document.getElementById('audit-url').value;
  if(!url){ alert("Enter a valid URL"); return; }

  auditCount++;
  if(auditCount>maxFreeAudits){
    document.getElementById('subscription-alert').classList.remove('hidden');
    return;
  }

  document.getElementById('audit-results').classList.remove('hidden');
  document.getElementById('audit-status').innerText = `Audit #${auditCount} executed! Python will populate data.`;

  // Update Python Integration Link
  document.getElementById('py-integration').querySelector('a').href = `http://localhost:8000/run-audit?url=${encodeURIComponent(url)}`;
});

// Dummy Charts (to be replaced by Python JSON)
function generateCharts(){
  const chartIds = ['chart-overall-score','chart-technical-seo','chart-onpage-seo','chart-performance','chart-security','chart-mobile','chart-usability','chart-backlinks','chart-content','chart-competitor'];
  chartIds.forEach(id=>{
    const ctx = document.getElementById(id).getContext('2d');
    new Chart(ctx,{
      type:'bar',
      data:{
        labels:['Metric1','Metric2','Metric3','Metric4','Metric5'],
        datasets:[{label:'Score',data:[Math.random()*100,Math.random()*100,Math.random()*100,Math.random()*100,Math.random()*100],backgroundColor:'rgba(37,99,235,0.7)'}]
      },
      options:{responsive:true,maintainAspectRatio:false}
    });
  });
}
generateCharts();

// Subscription Button Placeholder
document.getElementById('subscribe-btn').addEventListener('click',()=>{
  alert("Integrate Stripe/PayPal backend here.");
});

// Send Login Link Placeholder
document.getElementById('send-link').addEventListener('click',()=>{
  const email = document.getElementById('email-login').value;
  if(!email){ alert("Enter valid email"); return; }
  alert(`Python will handle sending login link to ${email}`);
});
</script>
</body>
</html>
