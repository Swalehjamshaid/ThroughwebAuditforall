<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FF TECH ELITE v3 - World-Class Website Audit Engine</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#10b981',
            accent: '#14b8a6',
            darkbg: '#0f172a',
            cardbg: '#1e293b',
            purpledark: '#4c1d95',
          },
          animation: {
            'float': 'float 6s ease-in-out infinite',
            'pulse-slow': 'pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          },
          keyframes: {
            float: { '0%, 100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-20px)' } }
          }
        }
      }
    }
  </script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <style>
    .progress-ring circle { transition: stroke-dashoffset 1s ease-in-out; }
    .glass { background: rgba(255, 255, 255, 0.08); backdrop-filter: blur(16px); border: 1px solid rgba(255, 255, 255, 0.15); }
    table { width: 100%; border-collapse: separate; border-spacing: 0 12px; }
    th { background: rgba(16, 185, 129, 0.2); font-weight: 600; padding: 16px; }
    td { background: rgba(255, 255, 255, 0.05); padding: 16px; }
    .priority-critical { background-color: #ef4444; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 0.875rem; font-weight: bold; }
    .priority-high { background-color: #f97316; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 0.875rem; font-weight: bold; }
    .priority-medium { background-color: #eab308; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 0.875rem; font-weight: bold; }
    .priority-low { background-color: #22c55e; color: white; padding: 4px 12px; border-radius: 9999px; font-size: 0.875rem; font-weight: bold; }
    .tab-btn.active { background-color: #10b981; color: white; }
    .tab-btn { transition: all 0.3s; }
    .tab-btn:hover { background-color: #10b981/50; }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-darkbg via-purpledark to-black text-white">
  <!-- Hero Section -->
  <div class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-primary/20 to-accent/20"></div>
    <div class="relative container mx-auto px-6 py-32 text-center">
      <h1 class="text-6xl md:text-8xl font-extrabold mb-8 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent animate-float">
        FF TECH ELITE v3
      </h1>
      <p class="text-2xl md:text-3xl text-gray-300 mb-12 max-w-5xl mx-auto">
        The World's Most Advanced Weighted Website Audit Engine<br>
        <span class="text-primary font-bold">Performance • SEO • UX • Security • Accessibility • Backlinks • Competitors</span>
      </p>
      <div class="flex flex-col lg:flex-row gap-6 justify-center items-center max-w-4xl mx-auto">
        <input id="urlInput" type="url" placeholder="https://example.com" class="w-full px-8 py-5 rounded-2xl bg-white/10 glass border border-white/30 focus:outline-none focus:border-primary text-xl"/>
        <div class="flex gap-4">
          <button id="modeDesktop" class="px-8 py-5 rounded-2xl bg-primary hover:bg-primary/80 transition font-bold text-lg"><i class="fas fa-desktop mr-3"></i>Desktop</button>
          <button id="modeMobile" class="px-8 py-5 rounded-2xl bg-cardbg hover:bg-cardbg/80 transition font-bold text-lg"><i class="fas fa-mobile-alt mr-3"></i>Mobile</button>
        </div>
        <button id="auditBtn" class="px-12 py-5 rounded-2xl bg-gradient-to-r from-primary to-accent hover:from-primary/90 hover:to-accent/90 font-extrabold text-2xl shadow-2xl transform hover:scale-105 transition">
          Launch Full Audit
        </button>
      </div>
    </div>
  </div>

  <!-- Loading -->
  <div id="loading" class="hidden container mx-auto px-6 py-40 text-center">
    <div class="w-40 h-40 mx-auto mb-12 rounded-full bg-gradient-to-r from-primary to-accent p-2 animate-pulse-slow">
      <div class="w-full h-full rounded-full bg-darkbg flex items-center justify-center"><i class="fas fa-cogs text-7xl text-primary"></i></div>
    </div>
    <h2 class="text-5xl font-bold mb-6">Running World-Class Audit...</h2>
    <p class="text-2xl text-gray-400">Analyzing 200+ metrics across Performance, SEO, UX, Security, Accessibility & more</p>
  </div>

  <!-- Results -->
  <div id="results" class="hidden container mx-auto px-6 py-16 max-w-7xl">
    <!-- Header -->
    <div class="text-center mb-16">
      <h2 class="text-5xl font-bold mb-4">Comprehensive Audit Complete</h2>
      <p class="text-2xl text-gray-300" id="auditedUrl"></p>
      <p class="text-xl text-gray-500 mt-2" id="auditedAt"></p>
    </div>

    <!-- Overall Score + Pillars -->
    <div class="grid lg:grid-cols-5 gap-10 mb-20">
      <div class="lg:col-span-2"></div>
      <div class="lg:col-span-1 text-center">
        <svg class="w-80 h-80 mx-auto -rotate-90">
          <circle cx="160" cy="160" r="140" stroke="#334155" stroke-width="40" fill="none"/>
          <circle id="overallRing" cx="160" cy="160" r="140" stroke="url(#gradOverall)" stroke-width="40" fill="none" stroke-dasharray="880" stroke-dashoffset="880"/>
          <defs><linearGradient id="gradOverall"><stop offset="0%" stop-color="#10b981"/><stop offset="100%" stop-color="#14b8a6"/></linearGradient></defs>
        </svg>
        <div class="absolute inset-0 flex flex-col items-center justify-center -mt-80">
          <span id="overallScore" class="text-8xl font-extrabold text-primary">0%</span>
          <span class="text-3xl text-gray-400 mt-4">Overall Site Health</span>
        </div>
      </div>
      <div class="grid grid-cols-2 lg:grid-cols-1 gap-8 lg:col-span-2">
        {% for cat, weight in [('Performance', '40%'), ('SEO', '30%'), ('UX', '20%'), ('Security', '10%')] %}
        <div class="glass rounded-3xl p-8 text-center hover:scale-105 transition">
          <svg class="w-40 h-40 mx-auto -rotate-90 mb-6">
            <circle cx="80" cy="80" r="60" stroke="#334155" stroke-width="25" fill="none"/>
            <circle class="progress-ring pillar-ring" data-pillar="{{ cat }}" cx="80" cy="80" r="60" stroke="#10b981" stroke-width="25" fill="none" stroke-dasharray="377" stroke-dashoffset="377"/>
          </svg>
          <h3 class="text-3xl font-bold">{{ cat }}</h3>
          <p class="text-5xl font-extrabold text-primary mt-4 pillar-score" data-pillar="{{ cat }}">0%</p>
          <p class="text-2xl text-gray-400 mt-2">{{ weight }} Weight</p>
        </div>
        {% endfor %}
      </div>
    </div>

    <!-- Core Web Vitals + Additional Perf Metrics -->
    <div class="glass rounded-3xl p-12 mb-20">
      <h3 class="text-4xl font-bold text-center mb-12">Performance & Core Web Vitals</h3>
      <div class="grid grid-cols-2 md:grid-cols-5 gap-10">
        <div class="text-center"><p class="text-gray-400 text-xl">LCP</p><p id="lcp" class="text-5xl font-bold text-primary">-- ms</p></div>
        <div class="text-center"><p class="text-gray-400 text-xl">FCP</p><p id="fcp" class="text-5xl font-bold text-primary">-- ms</p></div>
        <div class="text-center"><p class="text-gray-400 text-xl">CLS</p><p id="cls" class="text-5xl font-bold text-primary">--</p></div>
        <div class="text-center"><p class="text-gray-400 text-xl">TBT / INP</p><p id="tbt" class="text-5xl font-bold text-primary">-- ms</p></div>
        <div class="text-center"><p class="text-gray-400 text-xl">Page Weight</p><p id="weight" class="text-5xl font-bold text-primary">-- KB</p></div>
      </div>
    </div>

    <!-- 200+ Advanced Metrics Table -->
    <div class="glass rounded-3xl overflow-hidden mb-20">
      <h3 class="text-4xl font-bold p-10 bg-gradient-to-r from-primary to-accent">200+ World-Class Metrics Analyzed</h3>
      <div class="overflow-x-auto p-8">
        <table>
          <thead class="text-left"><tr><th class="w-16">#</th><th>Metric</th><th class="text-center">Category</th><th class="text-center">Score</th><th class="text-center">Priority</th></tr></thead>
          <tbody id="metricsTable" class="divide-y divide-gray-700"></tbody>
        </table>
      </div>
    </div>

    <!-- Improvement Roadmap -->
    <div class="glass rounded-3xl p-12 mb-20">
      <h3 class="text-4xl font-bold mb-10">Prioritized Improvement Roadmap</h3>
      <div id="roadmap" class="prose prose-2xl prose-invert max-w-none"></div>
    </div>

    <!-- Full In-Depth SEO Audit (Semrush-Style) -->
    <div id="seoAuditSection" class="hidden">
      <h2 class="text-5xl font-extrabold text-center mb-16 text-primary">In-Depth Professional SEO Audit</h2>
      <!-- Tabs -->
      <div class="flex flex-wrap justify-center gap-4 mb-12">
        <button class="tab-btn active px-8 py-4 rounded-xl bg-primary/20" data-tab="seoOverview">Overview</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoIssues">Issues</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoOnpage">On-Page</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoKeywords">Keywords</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoToppages">Top Pages</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoTechnical">Technical</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoPerformance">Performance</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoCompetitors">Competitors</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoOffpage">Off-Page</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoBacklinks">Backlinks</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoSocial">Social Media</button>
        <button class="tab-btn px-8 py-4 rounded-xl" data-tab="seoAccessibility">Accessibility</button>
      </div>

      <div id="tabContent" class="space-y-20">
        <!-- Overview -->
        <div id="seoOverview" class="tab-content glass rounded-3xl p-12 text-center">
          <h3 class="text-4xl font-bold mb-8">SEO Health Overview</h3>
          <div class="text-7xl font-extrabold text-red-400 mb-6" id="seoScoreDisplay">0/100</div>
          <p class="text-2xl mb-12" id="seoOverviewText"></p>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-12">
            <div><p class="text-gray-400 text-xl">On-Page SEO</p><p class="text-6xl font-bold text-orange-400" id="seoOnpageScore">0%</p></div>
            <div><p class="text-gray-400 text-xl">Technical SEO</p><p class="text-6xl font-bold text-orange-400" id="seoTechnicalScore">0%</p></div>
            <div><p class="text-gray-400 text-xl">Off-Page SEO</p><p class="text-6xl font-bold text-gray-500" id="seoOffpageScore">0%</p></div>
            <div><p class="text-gray-400 text-xl">Social Signals</p><p class="text-6xl font-bold text-gray-500" id="seoSocialScore">0%</p></div>
          </div>
        </div>

        <!-- Issues -->
        <div id="seoIssues" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Issues & Recommendations</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Type</th><th>Element</th><th>Priority</th><th>Problem / Recommendation</th></tr></thead>
              <tbody id="seoIssuesTable"></tbody>
            </table>
          </div>
        </div>

        <!-- On-Page -->
        <div id="seoOnpage" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">On-Page SEO</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Element</th><th>Priority</th><th>Value / Note</th></tr></thead>
              <tbody id="seoOnpageTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Keyword Rankings -->
        <div id="seoKeywords" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Keyword Rankings</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Keyword</th><th>Rank</th><th>Traffic %</th><th>Volume</th><th>KD %</th><th>CPC (USD)</th></tr></thead>
              <tbody id="seoKeywordsTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Top Pages -->
        <div id="seoToppages" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Top Pages</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>URL</th><th>Traffic %</th><th>Keywords</th><th>Ref Domains</th><th>Backlinks</th></tr></thead>
              <tbody id="seoToppagesTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Technical SEO -->
        <div id="seoTechnical" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Technical SEO</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Element</th><th>Priority</th><th>Value</th><th>Recommendation</th></tr></thead>
              <tbody id="seoTechnicalTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Page Performance -->
        <div id="seoPerformance" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Page Performance & Core Web Vitals</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Element</th><th>Priority</th><th>Note</th></tr></thead>
              <tbody id="seoPerformanceTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Competitors -->
        <div id="seoCompetitors" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Competitors</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Competitor</th><th>Common Keywords</th><th>Competition Level</th></tr></thead>
              <tbody id="seoCompetitorsTable"></tbody>
            </table>
          </div>
          <div id="competitorAnalysis" class="mt-12">
            <h4 class="text-3xl font-bold mb-6">Advanced Competitor Analysis (4 Types)</h4>
            <div id="competitorTypes"></div>
          </div>
        </div>

        <!-- Off-Page -->
        <div id="seoOffpage" class="tab-content hidden glass rounded-3xl p-12 text-center">
          <h3 class="text-4xl font-bold mb-8">Off-Page SEO</h3>
          <p id="seoOffpageMessage" class="text-2xl"></p>
        </div>

        <!-- Backlinks -->
        <div id="seoBacklinks" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Top Backlinks</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Page AS</th><th>Source Title</th><th>Source URL</th><th>Anchor</th><th>Target URL</th><th>Rel</th></tr></thead>
              <tbody id="seoBacklinksTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Social Media -->
        <div id="seoSocial" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Social Media</h3>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Network</th><th>Priority</th><th>Recommendation</th></tr></thead>
              <tbody id="seoSocialTable"></tbody>
            </table>
          </div>
        </div>

        <!-- Accessibility (New - Placeholder for future) -->
        <div id="seoAccessibility" class="tab-content hidden glass rounded-3xl p-12">
          <h3 class="text-4xl font-bold mb-8">Accessibility Audit</h3>
          <p class="text-center text-2xl text-gray-400 mb-8">Coming Soon: Full WCAG 2.1 Compliance Check</p>
          <a href="/accessibility" class="block text-center text-primary text-xl hover:underline">Launch Accessibility Audit (Beta)</a>
          <div class="overflow-x-auto">
            <table>
              <thead><tr><th>Issue</th><th>Priority</th><th>Affected Elements</th><th>Recommendation</th></tr></thead>
              <tbody id="seoAccessibilityTable"></tbody>
            </table>
          </div>
        </div>
      </div>
    </div>

    <!-- PDF Download -->
    <div class="text-center my-24">
      <button id="downloadPdf" class="px-12 py-8 rounded-3xl bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 font-extrabold text-3xl shadow-2xl transform hover:scale-110 transition flex items-center gap-6 mx-auto">
        <i class="fas fa-file-pdf text-5xl"></i> Download Enterprise-Grade PDF Report
      </button>
    </div>
  </div>

  <script>
    // Tab switching
    document.querySelectorAll('.tab-btn').forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        document.querySelectorAll('.tab-content').forEach(c => c.classList.add('hidden'));
        document.getElementById(btn.dataset.tab).classList.remove('hidden');
      });
    });

    // ... existing displayResults function with all populations ...
  </script>
</body>
</html>
